-- Creación de la base de datos si no existe
CREATE DATABASE IF NOT EXISTS APP_GYMBRO;

-- Usar la base de datos APP_GYMBRO
USE APP_GYMBRO;

-- Tabla de Clientes - Almacena información sobre los clientes que realizan reservas
CREATE TABLE IF NOT EXISTS Cliente (
    ID_Cliente INT AUTO_INCREMENT PRIMARY KEY,
    Nombre VARCHAR(50) NOT NULL,
    FechaNacimiento INT NOT NULL,
    Edad INT NOT NULL,
    Email VARCHAR(100) NOT NULL,
    Telefono VARCHAR(50) NOT NULL
);

-- Tabla de Franquicias - Almacena información sobre las distintas franquicias que hay de la cadena de gimnasio donde se realizan reservas
CREATE TABLE IF NOT EXISTS Franquicia (
    ID_Franquicia INT AUTO_INCREMENT PRIMARY KEY,
    Nombre VARCHAR(50) NOT NULL,
    Direccion VARCHAR(100) NOT NULL,
    Email VARCHAR(100) NOT NULL,
    Telefonos VARCHAR(50) NOT NULL
);

-- Tabla de Empleados - Contiene información sobre los empleados involucrados en el proceso de reservas
CREATE TABLE IF NOT EXISTS Empleados (
    ID_Empleado INT AUTO_INCREMENT PRIMARY KEY,
    ID_Franquicia INT, -- Puede ser una referencia a la sucursal si es necesario
    Nombre VARCHAR(100) NOT NULL,
    Telefono VARCHAR(20) NOT NULL,
    Email VARCHAR(100) NOT NULL,
    Descripcion TEXT,
    FOREIGN KEY (ID_Franquicia) REFERENCES Franquicia(ID_Franquicia) -- Ejemplo de clave foránea a una tabla Franquicia
);

-- Tabla de Tipo de reservas - Contiene información sobre que tipo de clase reserva la persona
CREATE TABLE IF NOT EXISTS TipoReserva (
    ID_TipoReserva INT AUTO_INCREMENT PRIMARY KEY,
    Tipo VARCHAR(100) NOT NULL,
    Descripcion TEXT
);

-- Tabla de Reserva - Almacena información sobre la reserva (hora/dia/tipo/franquicia)
CREATE TABLE IF NOT EXISTS Reserva (
    ID_Reserva INT AUTO_INCREMENT PRIMARY KEY,
    ID_Cliente INT NOT NULL,
    ID_Empleado INT NOT NULL,
    ID_Franquicia INT NOT NULL,
    ID_TipoReserva INT NOT NULL,
    Fecha DATE NOT NULL,
    FOREIGN KEY (ID_Cliente) REFERENCES Cliente(ID_Cliente),
    FOREIGN KEY (ID_Empleado) REFERENCES Empleados(ID_Empleado),
    FOREIGN KEY (ID_Franquicia) REFERENCES Franquicia(ID_Franquicia),
    FOREIGN KEY (ID_TipoReserva) REFERENCES TipoReserva(ID_TipoReserva)
);
